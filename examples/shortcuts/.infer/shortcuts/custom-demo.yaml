# Custom Demo Shortcuts
# Demonstrates various shortcut capabilities
#
# Usage:
# - /hello - Simple echo command
# - /sysinfo - Display system information
# - /code-quality - AI-powered code quality analysis

shortcuts:
  # Simple command shortcut
  - name: hello
    description: "Say hello from the container"
    command: echo
    args:
      - "Hello from the Inference Gateway CLI! ðŸš€"

  # System information shortcut
  - name: sysinfo
    description: "Display system information"
    command: bash
    args:
      - -c
      - |
        echo "=== System Information ==="
        echo "Hostname: $(hostname)"
        echo "Kernel: $(uname -r)"
        echo "Uptime: $(uptime -p 2>/dev/null || uptime)"
        echo "CPU: $(nproc) cores"
        echo "Memory: $(free -h 2>/dev/null | grep Mem | awk '{print $2}' || echo 'N/A')"

  # AI-powered review comment reply generator
  - name: review-comments
    description: "Generate suggested replies to code review comments"
    command: bash
    args:
      - -c
      - |
        # Mock GitHub review comments (in a real scenario, this could fetch from GitHub API)
        jq -n \
          --arg repo "inference-gateway/cli" \
          --arg pr "123" \
          --arg reviewer "alice" \
          --arg comment1 "Why are we using a mutex here? This looks like overkill for this use case." \
          --arg comment2 "This error handling seems incomplete. What happens if the database connection fails?" \
          --arg comment3 "Nice refactoring! Much cleaner than before. Just one small thing - can we add a unit test for this?" \
          '{
            repo: $repo,
            prNumber: $pr,
            reviewer: $reviewer,
            comments: [
              {id: 1, commentId: "c1234", text: $comment1, file: "internal/services/cache.go", line: 45},
              {id: 2, commentId: "c1235", text: $comment2, file: "internal/services/db.go", line: 123},
              {id: 3, commentId: "c1236", text: $comment3, file: "internal/handlers/api.go", line: 78}
            ]
          }'
    snippet:
      prompt: |
        You are helping respond to code review comments from {reviewer} on PR #{prNumber} in {repo}.

        Review comments:
        {comments}

        For each comment, draft a professional, helpful reply that:
        1. Acknowledges the feedback
        2. Explains reasoning or agrees to changes
        3. Is concise and friendly (keep each reply under 100 words)

        Generate a SINGLE gh CLI command that posts all replies at once.
        Use this format: gh pr review {prNumber} --repo {repo} --comment --body "Reply to all comments:\n\n1. [reply to comment 1]\n2. [reply to comment 2]\n3. [reply to comment 3]"

        Output ONLY the command, nothing else. Make sure to escape quotes properly.
      template: |
        ! {llm}
